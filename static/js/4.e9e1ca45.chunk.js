(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{295:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"a",function(){return l});var n=a(320);function r(e){return e.split(" ").map(function(e){return e.slice(0,1).toUpperCase()+e.slice(1)}).join(" ")}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find(function(e){return Object.keys(t).every(function(a){return Object(n.a)(e,a)===t[a]})})||{}}},296:function(e,t,a){"use strict";var n=new(a(321).a)({protocol:"https"});t.a=n},299:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(0),r=a.n(n),l=a(128),c=a(401),o=a(295);a(304);function i(e){var t=e.type;return r.a.createElement(l.a,{as:"span",className:"type ".concat(t)},r.a.createElement("span",{className:"inner"},Object(o.b)(t)))}i.Placeholder=function(){return r.a.createElement(c.a,{className:"type placeholder",as:"span"})}},303:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(0),r=a.n(n),l=a(403),c=a(386),o=a(92);function i(e){var t=e.error;return t?r.a.createElement(l.a,{textAlign:"center",inverted:!0,color:"red"},r.a.createElement(c.a,{icon:!0},r.a.createElement(o.a,{name:"exclamation"}),"Something has gone terribly wrong."),r.a.createElement("p",null,t.description),t.source&&r.a.createElement("p",{className:"subtle"},t.source.toString())):null}},304:function(e,t,a){},306:function(e,t,a){"use strict";a.d(t,"a",function(){return C});var n=a(309),r=a(297),l=a.n(r),c=a(322),o=a(298),i=a(73),u=a(74),s=a(79),m=a(75),p=a(78),f=a(6),h=a.n(f),d=a(319),v=a(0),y=a.n(v),E=a(400),b=a(398),k=a(404),g=a(401),x=a(128),j=a(299),O=a(296),w=a(295),C=(a(307),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,typeData:{}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"fetchTypeData",value:function(){var e=Object(o.a)(l.a.mark(function e(){var t,a,n,r,o,i,u,s,m,p,f=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=f.length>0&&void 0!==f[0]?f[0]:this.props,a=t.types,n=this.state.typeData,r=!0,o=!1,i=void 0,e.prev=5,u=a[Symbol.iterator]();case 7:if(r=(s=u.next()).done){e.next=20;break}if(m=s.value,!n[m]){e.next=11;break}return e.abrupt("continue",17);case 11:return this.setState({loading:!0}),p=Object(c.a)({},this.state.typeData),e.next=15,O.a.getTypeByName(m);case 15:p[m]=e.sent,this.setState({typeData:p});case 17:r=!0,e.next=7;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(5),o=!0,i=e.t0;case 26:e.prev=26,e.prev=27,r||null==u.return||u.return();case 29:if(e.prev=29,!o){e.next=32;break}throw i;case 32:return e.finish(29);case 33:return e.finish(26);case 34:this.setState({loading:!1});case 35:case"end":return e.stop()}},e,this,[[5,22,26,34],[27,,29,33]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchTypeData()}},{key:"componentWillReceiveProps",value:function(e){this.fetchTypeData(e)}},{key:"calcDamageMultipliers",value:function(){var e=this.state.typeData,t=Object(d.a)(),a=!0,n=!1,r=void 0;try{for(var l,c=this.props.types[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var o=l.value;if(e[o]){var i=e[o].damage_relations,u=!0,s=!1,m=void 0;try{for(var p,f=i.double_damage_from[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var h=p.value.name;t=t.update(h,1,function(e){return 2*e})}}catch(S){s=!0,m=S}finally{try{u||null==f.return||f.return()}finally{if(s)throw m}}var v=!0,y=!1,E=void 0;try{for(var b,k=i.half_damage_from[Symbol.iterator]();!(v=(b=k.next()).done);v=!0){var g=b.value.name;t=t.update(g,1,function(e){return e/2})}}catch(S){y=!0,E=S}finally{try{v||null==k.return||k.return()}finally{if(y)throw E}}var x=!0,j=!1,O=void 0;try{for(var w,C=i.no_damage_from[Symbol.iterator]();!(x=(w=C.next()).done);x=!0){var D=w.value.name;t=t.set(D,0)}}catch(S){j=!0,O=S}finally{try{x||null==C.return||C.return()}finally{if(j)throw O}}}}}catch(S){n=!0,r=S}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}return t.filter(function(e){return 1!==e})}},{key:"render",value:function(){var e=this.props.types;if(this.state.loading)return y.a.createElement(t.Placeholder,null);var a=this.calcDamageMultipliers().entrySeq().map(function(e){var t=Object(n.a)(e,2);return{type:t[0],multiplier:t[1]}}).sort(function(e,t){return e.multiplier>t.multiplier?-1:e.multiplier<t.multiplier?1:e.type.localeCompare(t.type)}).toJS();return y.a.createElement(E.a,{fluid:!0},y.a.createElement(E.a.Content,null,y.a.createElement(E.a.Header,null,e.length>0&&y.a.createElement(y.a.Fragment,null,Object(w.b)(e[0]),e.slice(1).map(function(e){return y.a.createElement("span",{key:e}," \xd7 ",Object(w.b)(e))})))),y.a.createElement(E.a.Content,null,y.a.createElement(b.a,null,y.a.createElement(k.a,null,y.a.createElement(k.a.Row,null,y.a.createElement(k.a.Column,{width:8},a.filter(function(e){return e.multiplier>=1}).map(function(e){var t=e.type,a=e.multiplier;return y.a.createElement(b.a.Item,{key:t,className:"type-multiplier"},y.a.createElement(j.a,{type:t}),y.a.createElement(S,{by:a}))})),y.a.createElement(k.a.Column,{width:8},a.filter(function(e){return e.multiplier<1}).map(function(e){var t=e.type,a=e.multiplier;return y.a.createElement(b.a.Item,{key:t,className:"type-multiplier"},y.a.createElement(j.a,{type:t}),y.a.createElement(S,{by:a}))})))))))}}]),t}(y.a.Component));C.Placeholder=function(){return y.a.createElement(E.a,{fluid:!0},y.a.createElement(g.a,null,y.a.createElement(E.a.Content,null,y.a.createElement(E.a.Header,null,y.a.createElement(g.a.Header,null))),y.a.createElement(E.a.Content,null,y.a.createElement(b.a,null,y.a.createElement(k.a,null,y.a.createElement(k.a.Row,null,[0,1].map(function(e){return y.a.createElement(k.a.Column,{key:e,width:8},[0,1,2].map(function(e){return y.a.createElement(b.a.Item,{key:e,className:"type-multiplier"},y.a.createElement(j.a.Placeholder,null),y.a.createElement(S.Placeholder,null))}))})))))))};var D={0:{text:"0x",color:"black"},.25:{text:"\xbc",color:"purple",fraction:!0},.5:{text:"\xbd",color:"red",fraction:!0},1:{text:"1x"},2:{text:"2x",color:"green"},4:{text:"4x",color:"blue"}};function S(e){var t=e.by,a=D[t.toString()],n=a.text,r=void 0===n?t.toString():n,l=a.color,c=a.fraction,o=void 0!==c&&c;return y.a.createElement(x.a,{className:h()("multiplier-badge",{fraction:o}),circular:!0,size:"large",color:l},y.a.createElement("span",null,r))}S.Placeholder=function(){return y.a.createElement(g.a.Image,{className:"multiplier-badge placeholder"})}},307:function(e,t,a){},382:function(e,t,a){},408:function(e,t,a){"use strict";a.r(t);var n=a(297),r=a.n(n),l=a(298),c=a(73),o=a(74),i=a(79),u=a(75),s=a(78),m=a(96),p=a(0),f=a.n(p),h=a(407),d=a(403),v=a(404),y=a(386),E=a(399),b=a(296),k=a(295),g=a(309),x=a(92),j=a(400),O=a(385),w=a(397),C=a(401),D=a(303),S=a(299),P=a(306),_=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!1,speciesDetails:null,varieties:{}},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"fetchPokemonDetails",value:function(){var e=Object(l.a)(r.a.mark(function e(){var t,a,n,c,o,i,u,s,m,p,f,h,d=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:this.props,a=t.pokemon){e.next=4;break}return this.setState({speciesDetails:null}),e.abrupt("return");case 4:return e.prev=4,this.setState({loading:!0}),e.next=8,b.a.getPokemonSpeciesByName(a);case 8:n=e.sent,this.setState({speciesDetails:n,varieties:{}}),c=n.varieties.map(function(){var e=Object(l.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.pokemon.name,e.abrupt("return",b.a.getPokemonByName(a));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),o={},i=!0,u=!1,s=void 0,e.prev=15,m=c[Symbol.iterator]();case 17:if(i=(p=m.next()).done){e.next=26;break}return f=p.value,e.next=21,f;case 21:h=e.sent,o[h.name]=h;case 23:i=!0,e.next=17;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(15),u=!0,s=e.t0;case 32:e.prev=32,e.prev=33,i||null==m.return||m.return();case 35:if(e.prev=35,!u){e.next=38;break}throw s;case 38:return e.finish(35);case 39:return e.finish(32);case 40:this.setState({loading:!1,varieties:o,error:null}),e.next=47;break;case 43:e.prev=43,e.t1=e.catch(4),console.error(e.t1),this.setState({error:{description:"Could not load pokemon information.",source:e.t1},loading:!1,speciesDetails:null,varieties:{}});case 47:case"end":return e.stop()}},e,this,[[4,43],[15,28,32,40],[33,,35,39]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchPokemonDetails()}},{key:"componentWillReceiveProps",value:function(e){this.fetchPokemonDetails(e)}},{key:"render",value:function(){var e=this.props.pokemon,t=this.state,a=t.error,n=t.speciesDetails,r=t.varieties;return f.a.createElement(f.a.Fragment,null,!e&&f.a.createElement(v.a.Column,{width:16},f.a.createElement(d.a,{placeholder:!0},f.a.createElement(y.a,{icon:!0},f.a.createElement(x.a,{name:"search"}),"Search for a defending pokemon to begin"))),a&&f.a.createElement(v.a.Column,{width:16},f.a.createElement(D.a,{error:a})),n&&r&&Object.values(r).length?f.a.createElement(N,{species:n,varieties:r}):f.a.createElement(N.Placeholder,null))}}]),t}(f.a.Component);function N(e){var t=e.species,a=e.varieties,n=Object.values(a).find(function(e){return e.is_default})||a[0],r=f.a.useState(n.name),l=Object(g.a)(r,2),c=l[0],o=l[1];Object(p.useEffect)(function(){c in a||o(n.name)},[a]);var i=a[c],u=Object(k.a)(t.pokedex_numbers,{"pokedex.name":"kanto"}).entry_number,s=Object(k.a)(t.names,{"language.name":"en"}).name,m=Object(k.a)(t.genera,{"language.name":"en"}).genus;return f.a.createElement(f.a.Fragment,null,f.a.createElement(v.a.Column,{width:8},f.a.createElement(j.a,{fluid:!0},f.a.createElement(j.a.Content,null,i&&i.sprites.front_default?f.a.createElement(O.a,{className:"pokemon-sprite",floated:"left",src:i.sprites.front_default}):f.a.createElement("div",{className:"pokemon-sprite placeholder"}),t&&f.a.createElement(f.a.Fragment,null,f.a.createElement(j.a.Header,null,"#",u," - ",s),f.a.createElement(j.a.Meta,null,m)),i&&i.types.map(function(e){var t=e.slot,a=e.type.name;return f.a.createElement(S.a,{key:t,type:a})}),t&&f.a.createElement(j.a.Description,null,Object(k.a)(t.flavor_text_entries,{"language.name":"en","version.name":"yellow"}).flavor_text.replace("\f"," ")),a&&Object.values(a).length>1&&f.a.createElement(w.a,null,f.a.createElement(w.a.Group,{inline:!0},Object.values(a).map(function(e){var a=Object(k.b)(e.name.replace(t.name,"").replace(/-/g," ").trim())||"Kanto";return f.a.createElement(w.a.Radio,{key:e.name,label:a,value:e.name,checked:c===e.name,onChange:function(){return o(e.name)}})})))))),f.a.createElement(v.a.Column,{width:8},i&&f.a.createElement(P.a,{types:i.types.map(function(e){return e.type.name})})))}N.Placeholder=function(){return f.a.createElement(f.a.Fragment,null,f.a.createElement(v.a.Column,{width:8},f.a.createElement(j.a,{fluid:!0},f.a.createElement(C.a,null,f.a.createElement(j.a.Content,null,f.a.createElement(C.a.Image,{className:"pokemon-sprite",floated:"left"}),f.a.createElement(j.a.Header,null,f.a.createElement(C.a.Header,null)),f.a.createElement(j.a.Meta,null,f.a.createElement(C.a.Line,null)),f.a.createElement(S.a.Placeholder,null),f.a.createElement(j.a.Description,null,f.a.createElement(C.a.Paragraph,null,f.a.createElement(C.a.Line,null),f.a.createElement(C.a.Line,null))))))),f.a.createElement(v.a.Column,{width:8},f.a.createElement(P.a.Placeholder,null)))};a(382);var R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0,pokedex:null},a.handlePokemon=a.handlePokemon.bind(Object(m.a)(Object(m.a)(a))),a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.state.pokedex){e.next=6;break}return this.setState({loading:!0}),e.next=4,b.a.getPokedexByName("kanto");case 4:t=e.sent,this.setState({loading:!1,pokedex:t.pokemon_entries});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handlePokemon",value:function(e,t){var a=t.value,n=this.props,r=n.history,l=n.match.path.replace(":name?",a);r.push(l)}},{key:"render",value:function(){var e=this.props.match,t=this.state.pokedex;return f.a.createElement(d.a,{vertical:!0},f.a.createElement(v.a,{stackable:!0},f.a.createElement(v.a.Row,null,f.a.createElement(v.a.Column,null,f.a.createElement(y.a,{as:"h2"},"Defender Info"))),f.a.createElement(v.a.Row,null,f.a.createElement(v.a.Column,null,f.a.createElement(M,{onChange:this.handlePokemon,pokedex:t,value:e.params.name,placeholder:"Defending Pokemon"}))),f.a.createElement(v.a.Row,{stretched:!0},f.a.createElement(_,{pokemon:e.params.name}))))}}]),t}(f.a.Component);t.default=Object(h.a)(R);function M(e){var t,a=e.onChange,n=e.pokedex,r=e.value,l=e.placeholder;return t=n?n.map(function(e){return{key:e.pokemon_species.name,text:Object(k.b)(e.pokemon_species.name),value:e.pokemon_species.name}}):[],r&&!t.some(function(e){return e.value===r})&&t.push({key:r,text:Object(k.b)(r),value:r}),f.a.createElement(E.a,{compact:!0,fluid:!0,placeholder:l,search:!0,selection:!0,options:t,onChange:a,value:r})}}}]);
//# sourceMappingURL=4.e9e1ca45.chunk.js.map