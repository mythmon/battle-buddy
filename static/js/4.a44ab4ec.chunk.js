(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{141:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"a",function(){return c});var n=a(162);function r(e){return e.slice(0,1).toUpperCase()+e.slice(1)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find(function(e){return Object.keys(t).every(function(a){return Object(n.a)(e,a)===t[a]})})||{}}},142:function(e,t,a){"use strict";var n=new(a(163).a)({protocol:"https"});t.a=n},145:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(73),r=a(74),c=a(77),l=a(75),o=a(76),i=a(0),u=a.n(i),s=a(380),p=a(141),m=(a(149),function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.type;return u.a.createElement(s.a,{as:"span",className:"type ".concat(e)},u.a.createElement("span",{className:"inner"},Object(p.b)(e)))}}]),t}(u.a.Component))},148:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(0),r=a.n(n),c=a(395),l=a(379),o=a(166);function i(e){var t=e.error;return t?r.a.createElement(c.a,{textAlign:"center",inverted:!0,color:"red"},r.a.createElement(l.a,{icon:!0},r.a.createElement(o.a,{name:"exclamation"}),"Something has gone terribly wrong."),r.a.createElement("p",null,t.description),t.source&&r.a.createElement("p",{className:"subtle"},t.source.toString())):null}},149:function(e,t,a){},151:function(e,t,a){"use strict";a.d(t,"a",function(){return w});var n=a(164),r=a(143),c=a.n(r),l=a(165),o=a(144),i=a(73),u=a(74),s=a(77),p=a(75),m=a(76),f=a(6),h=a.n(f),v=a(160),y=a(0),d=a.n(y),b=a(390),k=a(389),E=a(394),g=a(380),x=a(145),j=a(142),O=a(141),w=(a(152),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,typeData:{}},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"fetchTypeData",value:function(){var e=Object(o.a)(c.a.mark(function e(){var t,a,n,r,o,i,u,s,p=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=p.length>0&&void 0!==p[0]?p[0]:this.props.types,a=!0,n=!1,r=void 0,e.prev=4,o=t[Symbol.iterator]();case 6:if(a=(i=o.next()).done){e.next=19;break}if(u=i.value,!this.state.typeData[u]){e.next=10;break}return e.abrupt("continue",16);case 10:return this.setState({loading:!0}),s=Object(l.a)({},this.state.typeData),e.next=14,j.a.getTypeByName(u);case 14:s[u]=e.sent,this.setState({typeData:s});case 16:a=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),n=!0,r=e.t0;case 25:e.prev=25,e.prev=26,a||null==o.return||o.return();case 28:if(e.prev=28,!n){e.next=31;break}throw r;case 31:return e.finish(28);case 32:return e.finish(25);case 33:this.setState({loading:!1});case 34:case"end":return e.stop()}},e,this,[[4,21,25,33],[26,,28,32]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchTypeData()}},{key:"componentWillReceiveProps",value:function(e){this.fetchTypeData(e.types)}},{key:"calcDamageMultipliers",value:function(){var e=Object(v.a)(),t=!0,a=!1,n=void 0;try{for(var r,c=this.props.types[Symbol.iterator]();!(t=(r=c.next()).done);t=!0){var l=r.value;if(this.state.typeData[l]){var o=this.state.typeData[l].damage_relations,i=!0,u=!1,s=void 0;try{for(var p,m=o.double_damage_from[Symbol.iterator]();!(i=(p=m.next()).done);i=!0){var f=p.value.name;e=e.update(f,1,function(e){return 2*e})}}catch(S){u=!0,s=S}finally{try{i||null==m.return||m.return()}finally{if(u)throw s}}var h=!0,y=!1,d=void 0;try{for(var b,k=o.half_damage_from[Symbol.iterator]();!(h=(b=k.next()).done);h=!0){var E=b.value.name;e=e.update(E,1,function(e){return e/2})}}catch(S){y=!0,d=S}finally{try{h||null==k.return||k.return()}finally{if(y)throw d}}var g=!0,x=!1,j=void 0;try{for(var O,w=o.no_damage_from[Symbol.iterator]();!(g=(O=w.next()).done);g=!0){var D=O.value.name;e=e.set(D,0)}}catch(S){x=!0,j=S}finally{try{g||null==w.return||w.return()}finally{if(x)throw j}}}}}catch(S){a=!0,n=S}finally{try{t||null==c.return||c.return()}finally{if(a)throw n}}return e.filter(function(e){return 1!==e})}},{key:"render",value:function(){var e=this.props.types,t=(this.state.loading,this.calcDamageMultipliers().entrySeq().map(function(e){var t=Object(n.a)(e,2);return{type:t[0],multiplier:t[1]}}).sort(function(e,t){return e.multiplier>t.multiplier?-1:e.multiplier<t.multiplier?1:e.type.localeCompare(t.type)}).toJS());return d.a.createElement(b.a,{fluid:!0},d.a.createElement(b.a.Content,null,d.a.createElement(b.a.Header,null,e.length>0&&d.a.createElement(d.a.Fragment,null,Object(O.b)(e[0]),e.slice(1).map(function(e){return d.a.createElement("span",{key:e}," \xd7 ",Object(O.b)(e))})))),d.a.createElement(b.a.Content,null,d.a.createElement(k.a,null,d.a.createElement(E.a,null,d.a.createElement(E.a.Row,null,d.a.createElement(E.a.Column,{width:8},t.filter(function(e){return e.multiplier>=1}).map(function(e){var t=e.type,a=e.multiplier;return d.a.createElement(k.a.Item,{key:t,className:"type-multiplier"},d.a.createElement(x.a,{type:t}),d.a.createElement(D,{by:a}))})),d.a.createElement(E.a.Column,{width:8},t.filter(function(e){return e.multiplier<1}).map(function(e){var t=e.type,a=e.multiplier;return d.a.createElement(k.a.Item,{key:t,className:"type-multiplier"},d.a.createElement(x.a,{type:t}),d.a.createElement(D,{by:a}))})))))))}}]),t}(d.a.Component));function D(e){var t=e.by,a={0:{text:"0x",color:"black"},.25:{text:"\xbc",color:"purple",fraction:!0},.5:{text:"\xbd",color:"red",fraction:!0},1:{text:"1x"},2:{text:"2x",color:"green"},4:{text:"4x",color:"blue"}}[t.toString()],n=a.text,r=void 0===n?t.toString():n,c=a.color,l=a.fraction,o=void 0!==l&&l;return d.a.createElement(g.a,{className:h()("multiplier-badge",{fraction:o}),circular:!0,size:"large",color:c},d.a.createElement("span",null,r))}},152:function(e,t,a){},350:function(e,t,a){},398:function(e,t,a){"use strict";a.r(t);var n=a(143),r=a.n(n),c=a(144),l=a(73),o=a(74),i=a(77),u=a(75),s=a(76),p=a(88),m=a(0),f=a.n(m),h=a(396),v=a(395),y=a(394),d=a(379),b=a(388),k=a(142),E=a(141),g=a(166),x=a(390),j=a(378),O=a(148),w=a(145),D=a(151),S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={chosenVariety:null,error:null,loading:!1,speciesDetails:null,varieties:{}},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"fetchPokemonDetails",value:function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n,l,o,i,u,s,p,m,f,h,v,y=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y.length>0&&void 0!==y[0]?y[0]:this.props,a=t.pokemon){e.next=4;break}return this.setState({chosenVariety:null,speciesDetails:null}),e.abrupt("return");case 4:return e.prev=4,this.setState({loading:!0}),e.next=8,k.a.getPokemonSpeciesByName(a);case 8:n=e.sent,this.setState({speciesDetails:n}),l=null,o=n.varieties.map(function(){var e=Object(c.a)(r.a.mark(function e(t){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.is_default,n=t.pokemon,a&&(l=n.name),e.abrupt("return",k.a.getPokemonByName(n.name));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),i={},u=!0,s=!1,p=void 0,e.prev=16,m=o[Symbol.iterator]();case 18:if(u=(f=m.next()).done){e.next=27;break}return h=f.value,e.next=22,h;case 22:v=e.sent,i[v.name]=v;case 24:u=!0,e.next=18;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(16),s=!0,p=e.t0;case 33:e.prev=33,e.prev=34,u||null==m.return||m.return();case 36:if(e.prev=36,!s){e.next=39;break}throw p;case 39:return e.finish(36);case 40:return e.finish(33);case 41:if(l){e.next=45;break}return e.next=44,o[0].name;case 44:l=e.sent;case 45:this.setState({loading:!1,varieties:i,chosenVariety:l,error:null}),e.next=52;break;case 48:e.prev=48,e.t1=e.catch(4),console.error(e.t1),this.setState({chosenVariety:null,error:{description:"Could not load pokemon information.",source:e.t1},loading:!1,speciesDetails:null,varieties:{}});case 52:case"end":return e.stop()}},e,this,[[4,48],[16,29,33,41],[34,,36,40]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchPokemonDetails()}},{key:"componentWillReceiveProps",value:function(e){this.fetchPokemonDetails(e)}},{key:"render",value:function(){var e=this.props.pokemon,t=this.state,a=t.error,n=t.speciesDetails,r=t.varieties,c=t.chosenVariety,l=r&&r[c];return f.a.createElement(f.a.Fragment,null,!e&&f.a.createElement(y.a.Column,{width:16},f.a.createElement(v.a,{placeholder:!0},f.a.createElement(d.a,{icon:!0},f.a.createElement(g.a,{name:"search"}),"Search for a defending pokemon to begin"))),a&&f.a.createElement(y.a.Column,{width:16},f.a.createElement(O.a,{error:a})),f.a.createElement(y.a.Column,{width:8},n&&l&&f.a.createElement(C,{species:n,variety:l})),f.a.createElement(y.a.Column,{width:8},l&&f.a.createElement(D.a,{types:l.types.map(function(e){return e.type.name})})))}}]),t}(f.a.Component);function C(e){var t=e.species,a=e.variety;return f.a.createElement(x.a,{fluid:!0},f.a.createElement(x.a.Content,null,a&&f.a.createElement(j.a,{className:"pokemon-sprite",floated:"left",src:a.sprites.front_default}),t&&f.a.createElement(f.a.Fragment,null,f.a.createElement(x.a.Header,null,"#",Object(E.a)(t.pokedex_numbers,{"pokedex.name":"kanto"}).entry_number," ","-"," ",Object(E.a)(t.names,{"language.name":"en"}).name),f.a.createElement(x.a.Meta,null,Object(E.a)(t.genera,{"language.name":"en"}).genus)),a&&a.types.map(function(e){var t=e.slot,a=e.type.name;return f.a.createElement(w.a,{key:t,type:a})}),t&&f.a.createElement(x.a.Description,null,Object(E.a)(t.flavor_text_entries,{"language.name":"en","version.name":"yellow"}).flavor_text.replace("\f"," "))))}a(350);var _=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0,pokedex:null},a.handlePokemon=a.handlePokemon.bind(Object(p.a)(Object(p.a)(a))),a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.state.pokedex){e.next=6;break}return this.setState({loading:!0}),e.next=4,k.a.getPokedexByName("kanto");case 4:t=e.sent,this.setState({loading:!1,pokedex:t.pokemon_entries});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handlePokemon",value:function(e,t){var a=t.value,n=this.props,r=n.history,c=n.match.path.replace(":name?",a);r.push(c)}},{key:"render",value:function(){var e=this.props.match,t=this.state.pokedex;return f.a.createElement(v.a,{vertical:!0},f.a.createElement(y.a,{stackable:!0},f.a.createElement(y.a.Row,null,f.a.createElement(y.a.Column,null,f.a.createElement(d.a,{as:"h2"},"Defender Info"))),f.a.createElement(y.a.Row,null,f.a.createElement(y.a.Column,null,f.a.createElement(P,{onChange:this.handlePokemon,pokedex:t,value:e.params.name,placeholder:"Defending Pokemon"}))),f.a.createElement(y.a.Row,{stretched:!0},f.a.createElement(S,{pokemon:e.params.name}))))}}]),t}(f.a.Component);t.default=Object(h.a)(_);function P(e){var t,a=e.onChange,n=e.pokedex,r=e.value,c=e.placeholder;return t=n?n.map(function(e){return{key:e.pokemon_species.name,text:Object(E.b)(e.pokemon_species.name),value:e.pokemon_species.name}}):[],r&&!t.some(function(e){return e.value===r})&&t.push({key:r,text:Object(E.b)(r),value:r}),f.a.createElement(b.a,{compact:!0,fluid:!0,placeholder:c,search:!0,selection:!0,options:t,onChange:a,value:r})}}}]);
//# sourceMappingURL=4.a44ab4ec.chunk.js.map