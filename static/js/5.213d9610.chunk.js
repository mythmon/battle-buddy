(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{141:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"a",function(){return l});var n=a(162);function r(e){return e.slice(0,1).toUpperCase()+e.slice(1)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find(function(e){return Object.keys(t).every(function(a){return Object(n.a)(e,a)===t[a]})})||{}}},142:function(e,t,a){"use strict";var n=new(a(163).a)({protocol:"https"});t.a=n},145:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(73),r=a(74),l=a(77),i=a(75),c=a(76),o=a(0),u=a.n(o),s=a(380),p=a(141),m=(a(149),function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.type;return u.a.createElement(s.a,{as:"span",className:"type ".concat(e)},u.a.createElement("span",{className:"inner"},Object(p.b)(e)))}}]),t}(u.a.Component))},148:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(0),r=a.n(n),l=a(395),i=a(379),c=a(166);function o(e){var t=e.error;return t?r.a.createElement(l.a,{textAlign:"center",inverted:!0,color:"red"},r.a.createElement(i.a,{icon:!0},r.a.createElement(c.a,{name:"exclamation"}),"Something has gone terribly wrong."),r.a.createElement("p",null,t.description),t.source&&r.a.createElement("p",{className:"subtle"},t.source.toString())):null}},149:function(e,t,a){},151:function(e,t,a){"use strict";a.d(t,"a",function(){return O});var n=a(164),r=a(143),l=a.n(r),i=a(165),c=a(144),o=a(73),u=a(74),s=a(77),p=a(75),m=a(76),f=a(6),y=a.n(f),h=a(160),v=a(0),d=a.n(v),b=a(390),E=a(389),g=a(394),x=a(380),k=a(145),j=a(142),w=a(141),O=(a(152),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,typeData:{}},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"fetchTypeData",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t,a,n,r,c,o,u,s,p=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=p.length>0&&void 0!==p[0]?p[0]:this.props.types,a=!0,n=!1,r=void 0,e.prev=4,c=t[Symbol.iterator]();case 6:if(a=(o=c.next()).done){e.next=19;break}if(u=o.value,!this.state.typeData[u]){e.next=10;break}return e.abrupt("continue",16);case 10:return this.setState({loading:!0}),s=Object(i.a)({},this.state.typeData),e.next=14,j.a.getTypeByName(u);case 14:s[u]=e.sent,this.setState({typeData:s});case 16:a=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),n=!0,r=e.t0;case 25:e.prev=25,e.prev=26,a||null==c.return||c.return();case 28:if(e.prev=28,!n){e.next=31;break}throw r;case 31:return e.finish(28);case 32:return e.finish(25);case 33:this.setState({loading:!1});case 34:case"end":return e.stop()}},e,this,[[4,21,25,33],[26,,28,32]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchTypeData()}},{key:"componentWillReceiveProps",value:function(e){this.fetchTypeData(e.types)}},{key:"calcDamageMultipliers",value:function(){var e=Object(h.a)(),t=!0,a=!1,n=void 0;try{for(var r,l=this.props.types[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){var i=r.value;if(this.state.typeData[i]){var c=this.state.typeData[i].damage_relations,o=!0,u=!1,s=void 0;try{for(var p,m=c.double_damage_from[Symbol.iterator]();!(o=(p=m.next()).done);o=!0){var f=p.value.name;e=e.update(f,1,function(e){return 2*e})}}catch(C){u=!0,s=C}finally{try{o||null==m.return||m.return()}finally{if(u)throw s}}var y=!0,v=!1,d=void 0;try{for(var b,E=c.half_damage_from[Symbol.iterator]();!(y=(b=E.next()).done);y=!0){var g=b.value.name;e=e.update(g,1,function(e){return e/2})}}catch(C){v=!0,d=C}finally{try{y||null==E.return||E.return()}finally{if(v)throw d}}var x=!0,k=!1,j=void 0;try{for(var w,O=c.no_damage_from[Symbol.iterator]();!(x=(w=O.next()).done);x=!0){var S=w.value.name;e=e.set(S,0)}}catch(C){k=!0,j=C}finally{try{x||null==O.return||O.return()}finally{if(k)throw j}}}}}catch(C){a=!0,n=C}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}return e.filter(function(e){return 1!==e})}},{key:"render",value:function(){var e=this.props.types,t=(this.state.loading,this.calcDamageMultipliers().entrySeq().map(function(e){var t=Object(n.a)(e,2);return{type:t[0],multiplier:t[1]}}).sort(function(e,t){return e.multiplier>t.multiplier?-1:e.multiplier<t.multiplier?1:e.type.localeCompare(t.type)}).toJS());return d.a.createElement(b.a,{fluid:!0},d.a.createElement(b.a.Content,null,d.a.createElement(b.a.Header,null,e.length>0&&d.a.createElement(d.a.Fragment,null,Object(w.b)(e[0]),e.slice(1).map(function(e){return d.a.createElement("span",{key:e}," \xd7 ",Object(w.b)(e))})))),d.a.createElement(b.a.Content,null,d.a.createElement(E.a,null,d.a.createElement(g.a,null,d.a.createElement(g.a.Row,null,d.a.createElement(g.a.Column,{width:8},t.filter(function(e){return e.multiplier>=1}).map(function(e){var t=e.type,a=e.multiplier;return d.a.createElement(E.a.Item,{key:t,className:"type-multiplier"},d.a.createElement(k.a,{type:t}),d.a.createElement(S,{by:a}))})),d.a.createElement(g.a.Column,{width:8},t.filter(function(e){return e.multiplier<1}).map(function(e){var t=e.type,a=e.multiplier;return d.a.createElement(E.a.Item,{key:t,className:"type-multiplier"},d.a.createElement(k.a,{type:t}),d.a.createElement(S,{by:a}))})))))))}}]),t}(d.a.Component));function S(e){var t=e.by,a={0:{text:"0x",color:"black"},.25:{text:"\xbc",color:"purple",fraction:!0},.5:{text:"\xbd",color:"red",fraction:!0},1:{text:"1x"},2:{text:"2x",color:"green"},4:{text:"4x",color:"blue"}}[t.toString()],n=a.text,r=void 0===n?t.toString():n,l=a.color,i=a.fraction,c=void 0!==i&&i;return d.a.createElement(x.a,{className:y()("multiplier-badge",{fraction:c}),circular:!0,size:"large",color:l},d.a.createElement("span",null,r))}},152:function(e,t,a){},387:function(e,t,a){"use strict";a.r(t);var n=a(143),r=a.n(n),l=a(144),i=a(73),c=a(74),o=a(77),u=a(75),s=a(76),p=a(0),m=a.n(p),f=a(396),y=a(395),h=a(394),v=a(379),d=a(166),b=a(388),E=a(148),g=a(145),x=a(142),k=a(141),j=a(151),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,typeList:null},a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.state.typeList){e.next=5;break}return e.next=3,x.a.getTypesList();case 3:t=e.sent,this.setState({typeList:t.results});case 5:this.checkTypes();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){this.checkTypes(e)}},{key:"handleTypes",value:function(e){var t=this;if(e<0||e>1)throw new Error("Invalid index ".concat(e));return function(a,n){var r=n.value,l=t.props,i=l.match,c=l.history,o=(i.params.types||"").split(",");o[e]=r,o=o.filter(function(e){return!!e});var u=i.path.replace(":types?",o.join(","));c.push(u)}}},{key:"render",value:function(){var e=this.state,t=e.typeList,a=e.error,n=this.getTypes();return m.a.createElement(y.a,{vertical:!0},m.a.createElement(h.a,null,m.a.createElement(h.a.Row,null,m.a.createElement(h.a.Column,null,m.a.createElement(v.a,{as:"h2"},"Defender Info"))),m.a.createElement(h.a.Row,null,m.a.createElement(h.a.Column,{width:8},m.a.createElement(O,{onChange:this.handleTypes(0),typeList:t,value:n[0],placeholder:"First Type"})),m.a.createElement(h.a.Column,{width:8},m.a.createElement(O,{onChange:this.handleTypes(1),typeList:t,value:n[1],placeholder:"Second Type"}))),m.a.createElement(h.a.Row,null,m.a.createElement(h.a.Column,null,a?m.a.createElement(E.a,{error:a}):n.length>0?m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{"data-types":JSON.stringify(n)}),m.a.createElement(j.a,{types:n})):m.a.createElement(y.a,{placeholder:!0},m.a.createElement(v.a,{icon:!0},m.a.createElement(d.a,{name:"search"}),"Search for a type to begin"))))))}},{key:"getTypes",value:function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).match.params.types||"").split(",").slice(0,2).filter(function(e){return!!e})}},{key:"checkTypes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,a=this.state.typeList;if(a){var n=this.getTypes(t),r=!0,l=!1,i=void 0;try{for(var c,o=function(){var t=c.value;if(!a.some(function(e){return e.name===t}))return console.error("Invalid type:",t,"not included in",a),e.setState({error:{description:m.a.createElement(m.a.Fragment,null,m.a.createElement(g.a,{type:t})," isn't a valid type")}}),{v:void 0}},u=n[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var s=o();if("object"===typeof s)return s.v}}catch(p){l=!0,i=p}finally{try{r||null==u.return||u.return()}finally{if(l)throw i}}this.setState({error:null})}}}]),t}(m.a.Component);function O(e){var t,a=e.value,n=e.typeList,r=e.onChange,l=e.placeholder;return t=n?n.map(function(e){return{key:e.name,text:Object(k.b)(e.name),value:e.name}}):[],a&&!t.some(function(e){return e.value===a})&&t.push({key:a,text:Object(k.b)(a),value:a}),t.sort(function(e,t){return e.text.localeCompare(t.text)}),m.a.createElement(b.a,{compact:!0,fluid:!0,placeholder:l,search:!0,selection:!0,clearable:!0,options:t,onChange:r,value:a})}t.default=Object(f.a)(w)}}]);
//# sourceMappingURL=5.213d9610.chunk.js.map